require=function t(e,i,n){function a(c,s){if(!i[c]){if(!e[c]){var r="function"==typeof require&&require;if(!s&&r)return r(c,!0);if(o)return o(c,!0);var h=new Error("Cannot find module '"+c+"'");throw h.code="MODULE_NOT_FOUND",h}var l=i[c]={exports:{}};e[c][0].call(l.exports,function(t){var i=e[c][1][t];return a(i?i:t)},l,l.exports,t,e,i,n)}return i[c].exports}for(var o="function"==typeof require&&require,c=0;c<n.length;c++)a(n[c]);return a}({"01StartMenu":[function(t,e,i){"use strict";cc._RFpush(e,"280c3rsZJJKnZ9RqbALVwtK","01StartMenu"),cc.Class({"extends":cc.Component,properties:{label:{"default":null,type:cc.Label},buttonStartGame:{"default":null,type:cc.Button},buttonImprint:{"default":null,type:cc.Button},buttonManual:{"default":null,type:cc.Button},text:"Hello, World!"},onLoad:function(){this.label.string=this.text},update:function(t){},startGame:function(){cc.director.loadScene("02characterSelect")},openImprint:function(){cc.log("openImprint")},openManual:function(){cc.log("openManual")}}),cc._RFpop()},{}],"02CharacterSelect":[function(t,e,i){"use strict";cc._RFpush(e,"9571eEJ2D1OOrThdroyivwk","02CharacterSelect"),cc.Class({"extends":cc.Component,properties:{character1:{"default":null,type:cc.Node},character2:{"default":null,type:cc.Node},character3:{"default":null,type:cc.Node},backToMenu:{"default":null,type:cc.Button},startGame:{"default":null,type:cc.Button},character1animation:{"default":null,type:cc.Animation},character2animation:{"default":null,type:cc.Animation},character3animation:{"default":null,type:cc.Animation}},onLoad:function(){this.selectedCharacter=null},character1Select:function(){this.selectedCharacter=1,this.character1animation.play("selectAnim_Cowboy"),this.node.getChildByName("Character2").getChildByName("Profile").scale=1,this.node.getChildByName("Character3").getChildByName("Profile").scale=1},character2Select:function(){this.selectedCharacter=2,this.character2animation.play("selectAnim_Knight"),this.node.getChildByName("Character1").getChildByName("Profile").scale=1,this.node.getChildByName("Character3").getChildByName("Profile").scale=1},character3Select:function(){this.selectedCharacter=3,this.character3animation.play("selectAnim_Ninja"),this.node.getChildByName("Character1").getChildByName("Profile").scale=1,this.node.getChildByName("Character2").getChildByName("Profile").scale=1},goBackToMenu:function(){cc.director.loadScene("01startMenu")},goToGame:function(){cc.director.loadScene("Stages/stage01"),cc.sys.localStorage.selectedCharacter=this.selectedCharacter}}),cc._RFpop()},{}],AnimationKnightScript:[function(t,e,i){"use strict";cc._RFpush(e,"5cf85sHaPBJLIYt5NiRsrKq","AnimationKnightScript"),cc.Class({"extends":cc.Component,properties:{parent:{"default":null,type:cc.Node}},onLoad:function(){this.parent.getComponent("KnightScript")},returnToStandardMode:function(){cc.log("DO IT!!"),this.parent.getComponent("KnightScript").punch=!1,this.parent.getComponent("KnightScript").shoot=!1,this.parent.getComponent("KnightScript").playAnimation()}}),cc._RFpop()},{}],AnimationNinjaScript:[function(t,e,i){"use strict";cc._RFpush(e,"eb778yNMPNGAYlUyhRq959H","AnimationNinjaScript"),cc.Class({"extends":cc.Component,properties:{parent:{"default":null,type:cc.Node}},onLoad:function(){this.parent.getComponent("NinjaScript")},returnToStandardMode:function(){cc.log("DO IT!!"),this.parent.getComponent("NinjaScript").punch=!1,this.parent.getComponent("NinjaScript").shoot=!1,this.parent.getComponent("NinjaScript").playAnimation()}}),cc._RFpop()},{}],AnimationScript:[function(t,e,i){"use strict";cc._RFpush(e,"e9485VgsSZAjbT4QETx9iS8","AnimationScript"),cc.Class({"extends":cc.Component,properties:{parent:{"default":null,type:cc.Node}},onLoad:function(){this.parent.getComponent("PlayerScript")},returnToStandardMode:function(){cc.log("DO IT!!"),this.parent.getComponent("PlayerScript").punch=!1,this.parent.getComponent("PlayerScript").shoot=!1,this.parent.getComponent("PlayerScript").playAnimation()}}),cc._RFpop()},{}],BackgroundScript:[function(t,e,i){"use strict";cc._RFpush(e,"439067xHFFIbZjLRSe6p/vI","BackgroundScript"),cc.Class({"extends":cc.Component,properties:{secondBackground:{"default":null,type:cc.Node},firstBackground:{"default":null,type:cc.Node},floor:{"default":null,type:cc.Node}},onLoad:function(){},moveBackgroundChildren:function(t,e){var i=this.node.getChildByName("Floor"),n=this.node.getChildByName("FirstBackground"),a=this.node.getChildByName("SecondBackground");this.moveSprites(i.getChildByName("FloorSprite1"),i.getChildByName("FloorSprite2"),200,t,e),this.moveSprites(n.getChildByName("FirstBackgroundSprite1"),n.getChildByName("FirstBackgroundSprite2"),100,t,e),this.moveSprites(a.getChildByName("SecondBackgroundSprite1"),a.getChildByName("SecondBackgroundSprite2"),10,t,e)},moveSprites:function(t,e,i,n,a){t.x=t.x+i*a*n,e.x=e.x+i*a*n;var o=t.getBoundingBox().size.width,c=e.getBoundingBox().size.width;t.x<-o&&(t.x+=2*o),e.x<-c&&(e.x+=2*c),t.x>o?t.x-=2*o:e.x>c&&(e.x-=2*c)}}),cc._RFpop()},{}],CharacterSelectAnimationScript:[function(t,e,i){"use strict";cc._RFpush(e,"affbdsfSmdEGLdTyrOFqsB5","CharacterSelectAnimationScript"),cc.Class({"extends":cc.Component,properties:{animation:{"default":null,type:cc.Animation}},onLoad:function(){}}),cc._RFpop()},{}],EnemyAnimationScript:[function(t,e,i){"use strict";cc._RFpush(e,"91258aRkStMNKIdC18bjsS+","EnemyAnimationScript"),cc.Class({"extends":cc.Component,properties:{},onLoad:function(){}}),cc._RFpop()},{}],EnemyScript:[function(t,e,i){"use strict";cc._RFpush(e,"930928NwAhILqGlYjjAFt//","EnemyScript"),cc.Class({"extends":cc.Component,properties:{attackRadius:0,xSpeed:0,ySpeed:0,animation:{"default":null,type:cc.Animation},strength:0,health:0,enemyType:"dummy"},onLoad:function(){this.left=!1,this.triggeredAnim=!1,this.isStanding=!1,this.isAttacking=!1,this.animation.play("enemyRunRightAnim_"+this.enemyType)},getPlayerDistance:function(){var t=this.game.player.getPosition(),e=cc.pDistance(this.node.position,t);return e},attack:function(){var t=this;this.animation.play("enemyShootAnim_"+this.enemyType),this.isAttacking=!0,this.node.runAction(cc.sequence(cc.delayTime(5),cc.callFunc(function(){Math.abs(t.node.x-t.game.player.x)<t.attackRadius&&(t.game.player.getComponent("PlayerScript").health-=t.strength),t.isAttacking=!1,t.isStanding=!1,cc.log(t.game.player.getComponent("PlayerScript").health)})))},moveEnemy:function(t){var e=this.game.player.getPositionX(),i=this.game.player.getPositionY(),n=this.node.x,a=this.node.y;this.isStanding||(a<=i?this.node.y=a+this.ySpeed*t:this.node.y=a-this.ySpeed*t,n<=e?(0==this.left?this.triggeredAnim=!1:this.triggeredAnim=!0,this.node.x=n+this.xSpeed*t,this.left=!1):(1==this.left?this.triggeredAnim=!1:this.triggeredAnim=!0,this.node.x=n-this.xSpeed*t,this.left=!0),1==this.left&&1==this.triggeredAnim?(this.animation.play("enemyRunLeftAnim_"+this.enemyType),this.triggeredAnim=!1):0==this.left&&1==this.triggeredAnim&&(this.animation.play("enemyRunRightAnim_"+this.enemyType),this.triggeredAnim=!1))},checkPlayerAttack:function(){var t=this.game.player.getChildByName("PlayerAnimation").scaleX,e=this.game.player.getPositionX(),i=this.game.player.getPositionY(),n=this.game.player.getComponent("PlayerScript").strength,a=this.node.x,o=this.node.y,c=this.game.player.getComponent("PlayerScript").punch,s=100;(a-e<=0&&t<=0||a-e>=0&&t>=0)&&c&&Math.abs(o-i)<=100&&s>=Math.abs(a-e)&&(this.health-=n,cc.warn("playerx: ",e,"playerY: ",i),cc.warn("enemyX: ",a,"enemyY: ",o))},update:function(t){return this.getPlayerDistance()<this.attackRadius?(this.isStanding=!0,void(this.isAttacking||this.attack())):(this.moveEnemy(t),this.checkPlayerAttack(),void(this.health<=0&&this.node.destroy()))}}),cc._RFpop()},{}],KnightScript:[function(t,e,i){"use strict";cc._RFpush(e,"ddea17Sh+NOjqoffhtEznpe","KnightScript"),cc.Class({"extends":cc.Component,properties:{playerTempo:0,animation:{"default":null,type:cc.Animation}},onLoad:function(){this.animation.play("standStillAnim_Knight"),this.moveBackground=0,this.left=!1,this.right=!1,this.up=!1,this.down=!1,this.punch=!1,this.shoot=!1,this.setInputControl(),this.playerDirection=1},setInputControl:function(){var t=this;cc.eventManager.addListener({event:cc.EventListener.KEYBOARD,onKeyPressed:function(e,i){if(0==t.punch&&0==t.shoot)switch(e){case cc.KEY.left:t.moveBackground=0,t.right=!1,0==t.left&&(t.left=!0,t.playAnimation());break;case cc.KEY.right:t.moveBackground=0,t.left=!1,0==t.right&&(t.right=!0,t.playAnimation());break;case cc.KEY.up:0==t.up&&(t.up=!0,t.playAnimation());break;case cc.KEY.down:0==t.down&&(t.down=!0,t.playAnimation());break;case cc.KEY.space:cc.log("space"),this.punch=!0,t.playPunchAnimation();break;case cc.KEY.x:cc.log("x"),this.shoot=!0,t.playShootAnimation()}},onKeyReleased:function(e,i){switch(e){case cc.KEY.left:t.left=!1,t.moveBackground=0,t.playAnimation();break;case cc.KEY.right:t.right=!1,t.moveBackground=0,t.playAnimation();break;case cc.KEY.up:t.up=!1,t.playAnimation();break;case cc.KEY.down:t.down=!1,t.playAnimation();break;case cc.KEY.space:cc.log("space up")}}},t.node)},playAnimation:function(){this.playerDirection=this.node.getChildByName("KnightAnimation").scaleX,this.left?this.animation.play("runLeftAnim_Knight"):this.right?this.animation.play("runRightAnim_Knight"):this.playerDirection==-1&&(this.up||this.down)?this.animation.play("runLeftAnim_Knight"):1==this.playerDirection&&(this.up||this.down)?this.animation.play("runRightAnim_Knight"):this.animation.play("standStillAnim_Knight")},playPunchAnimation:function(){this.animation.play("punchAnim_Knight")},playShootAnimation:function(){this.animation.play("shootAnim_Knight")},update:function(t){1==this.left?this.node.x>-400?this.node.x=this.node.x-this.playerTempo*t:this.moveBackground=1:1==this.right&&(this.node.x<400?this.node.x=this.node.x+this.playerTempo*t:this.moveBackground=-1),1==this.up&&this.node.y<-80?this.node.y=this.node.y+this.playerTempo/2*t:1==this.down&&this.node.y>-250&&(this.node.y=this.node.y-this.playerTempo/2*t)},doOtherStuff:function(){cc.log("JUST DO IT!")}}),cc._RFpop()},{}],NinjaScript:[function(t,e,i){"use strict";cc._RFpush(e,"9098eSxS+FD8a/uOJqlEeNS","NinjaScript"),cc.Class({"extends":cc.Component,properties:{playerTempo:0,animation:{"default":null,type:cc.Animation},animationShuriken:{"default":null,type:cc.Animation}},onLoad:function(){this.animation.play("standStillAnim_Ninja"),this.moveBackground=0,this.left=!1,this.right=!1,this.up=!1,this.down=!1,this.punch=!1,this.shoot=!1,this.setInputControl(),this.playerDirection=1},setInputControl:function(){var t=this;cc.eventManager.addListener({event:cc.EventListener.KEYBOARD,onKeyPressed:function(e,i){if(0==t.punch&&0==t.shoot)switch(e){case cc.KEY.left:t.moveBackground=0,t.right=!1,0==t.left&&(t.left=!0,t.playAnimation());break;case cc.KEY.right:t.moveBackground=0,t.left=!1,0==t.right&&(t.right=!0,t.playAnimation());break;case cc.KEY.up:0==t.up&&(t.up=!0,t.playAnimation());break;case cc.KEY.down:0==t.down&&(t.down=!0,t.playAnimation());break;case cc.KEY.space:cc.log("space"),this.punch=!0,t.playPunchAnimation();break;case cc.KEY.x:cc.log("x"),this.shoot=!0,t.playShootAnimation()}},onKeyReleased:function(e,i){switch(e){case cc.KEY.left:t.left=!1,t.moveBackground=0,t.playAnimation();break;case cc.KEY.right:t.right=!1,t.moveBackground=0,t.playAnimation();break;case cc.KEY.up:t.up=!1,t.playAnimation();break;case cc.KEY.down:t.down=!1,t.playAnimation();break;case cc.KEY.space:cc.log("space up")}}},t.node)},playAnimation:function(){this.playerDirection=this.node.getChildByName("NinjaAnimation").scaleX,this.left?this.animation.play("runLeftAnim_Ninja"):this.right?this.animation.play("runRightAnim_Ninja"):this.playerDirection==-1&&(this.up||this.down)?this.animation.play("runLeftAnim_Ninja"):1==this.playerDirection&&(this.up||this.down)?this.animation.play("runRightAnim_Ninja"):this.animation.play("standStillAnim_Ninja")},playPunchAnimation:function(){this.animation.play("punchAnim_Ninja")},playShootAnimation:function(){this.animation.play("shootAnim_Ninja"),this.animationShuriken.play("shurikenAnim_Ninja")},update:function(t){1==this.left?this.node.x>-400?this.node.x=this.node.x-this.playerTempo*t:this.moveBackground=1:1==this.right&&(this.node.x<400?this.node.x=this.node.x+this.playerTempo*t:this.moveBackground=-1),1==this.up&&this.node.y<-80?this.node.y=this.node.y+this.playerTempo/2*t:1==this.down&&this.node.y>-250&&(this.node.y=this.node.y-this.playerTempo/2*t)},doOtherStuff:function(){cc.log("JUST DO IT!")}}),cc._RFpop()},{}],PlayerScript:[function(t,e,i){"use strict";cc._RFpush(e,"58acc9ZSupDe7q81ov+Ipdc","PlayerScript"),cc.Class({"extends":cc.Component,properties:{playerTempo:0,animation:{"default":null,type:cc.Animation}},onLoad:function(){this.animation.play("standStillAnim_Cowboy"),this.moveBackground=0,this.left=!1,this.right=!1,this.up=!1,this.down=!1,this.punch=!1,this.shoot=!1,this.health=cc.sys.localStorage.characterHealth||100,this.strength=cc.sys.localStorage.characterStrenght||50,this.attackRadius=cc.sys.localStorage.characterAttackRadius||50,this.setInputControl(),this.playerDirection=1},setInputControl:function(){var t=this;cc.eventManager.addListener({event:cc.EventListener.KEYBOARD,onKeyPressed:function(e,i){if(0==t.punch&&0==t.shoot)switch(e){case cc.KEY.left:t.moveBackground=0,t.right=!1,0==t.left&&(t.left=!0,t.playAnimation());break;case cc.KEY.right:t.moveBackground=0,t.left=!1,0==t.right&&(t.right=!0,t.playAnimation());break;case cc.KEY.up:0==t.up&&(t.up=!0,t.playAnimation());break;case cc.KEY.down:0==t.down&&(t.down=!0,t.playAnimation());break;case cc.KEY.space:cc.log("space"),t.punch=!0,t.playPunchAnimation();break;case cc.KEY.x:cc.log("x"),t.shoot=!0,t.playShootAnimation()}},onKeyReleased:function(e,i){switch(e){case cc.KEY.left:t.left=!1,t.moveBackground=0,t.playAnimation();break;case cc.KEY.right:t.right=!1,t.moveBackground=0,t.playAnimation();break;case cc.KEY.up:t.up=!1,t.playAnimation();break;case cc.KEY.down:t.down=!1,t.playAnimation();break;case cc.KEY.space:cc.log("space up")}}},t.node)},playAnimation:function(){this.punch=!1,this.shoot=!1,this.playerDirection=this.node.getChildByName("PlayerAnimation").scaleX,this.left?this.animation.play("runLeftAnim_Cowboy"):this.right?this.animation.play("runRightAnim_Cowboy"):this.playerDirection==-1&&(this.up||this.down)?this.animation.play("runLeftAnim_Cowboy"):1==this.playerDirection&&(this.up||this.down)?this.animation.play("runRightAnim_Cowboy"):this.animation.play("standStillAnim_Cowboy")},playPunchAnimation:function(){this.animation.play("punchAnim_Cowboy")},playShootAnimation:function(){this.animation.play("shootAnim_Cowboy")},update:function(t){1==this.left?this.node.x>-400?this.node.x=this.node.x-this.playerTempo*t:this.moveBackground=1:1==this.right&&(this.node.x<400?this.node.x=this.node.x+this.playerTempo*t:this.moveBackground=-1),1==this.up&&this.node.y<-80?this.node.y=this.node.y+this.playerTempo/2*t:1==this.down&&this.node.y>-250&&(this.node.y=this.node.y-this.playerTempo/2*t),1==this.punch&&cc.log("punch =")},doOtherStuff:function(){cc.log("JUST DO IT!")}}),cc._RFpop()},{}],StageScript:[function(t,e,i){"use strict";cc._RFpush(e,"f0a17j0llVLW4EWHddhGqL4","StageScript"),cc.Class({"extends":cc.Component,properties:{prefabEnemy:{"default":null,type:cc.Prefab},maximumEnemies:0,player:{"default":null,type:cc.Node},background:{"default":null,type:cc.Node},winLoseLabel:{"default":null,type:cc.Label},winDistance:0,loseTimeout:0,selectedCharacter:0},spawnNewEnemy:function(){var t=cc.instantiate(this.prefabEnemy);this.node.addChild(t),t.setPosition(this.getNewEnemyPosition()),t.getComponent("EnemyScript").game=this},getNewEnemyPosition:function(){var t=500*cc.random0To1()+100,e=cc.random0To1()*-200-100;return cc.p(t,e)},onLoad:function(){this.wonFlag=0,this.loseFlag=0,this.wonPositionX=0,this.currentEnemies=0,this.selectedCharacter=cc.sys.localStorage.selectedCharacter},update:function(t){this.currentEnemies<this.maximumEnemies&&(this.spawnNewEnemy(),this.currentEnemies++);var e=this.player.getComponent("PlayerScript").moveBackground;0!==e&&this.background.getComponent("BackgroundScript").moveBackgroundChildren(e,t);var i=this.background.getChildByName("Floor");i.x<-500&&0===this.wonFlag?(this.wonFlag=1,this.wonPositionX=i.x,this.writeMessage("You Won! Continue to the right for the next Stage >>>")):1===this.wonFlag&&this.winGame(i.x,this.wonPositionX),this.player.getComponent("PlayerScript").health<=0&&0===this.loseFlag?this.loseFlag=1:1===this.loseFlag&&(this.loseFlag=2,this.loseGame())},writeMessage:function(t){this.winLoseLabel.string=t},winGame:function(t,e){t<e-this.winDistance&&(this.wonFlag=2,cc.director.loadScene("01startMenu"))},loseGame:function(){this.writeMessage("You lost. You will be returned to the Main Menu"),this.node.runAction(cc.sequence(cc.delayTime(this.loseTimeout),cc.callFunc(function(){cc.director.loadScene("01startMenu")})))}}),cc._RFpop()},{}]},{},["01StartMenu","BackgroundScript","PlayerScript","AnimationKnightScript","NinjaScript","EnemyAnimationScript","EnemyScript","02CharacterSelect","CharacterSelectAnimationScript","KnightScript","AnimationScript","AnimationNinjaScript","StageScript"]);